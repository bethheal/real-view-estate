import{u as j,r as a,a as v,j as e,E as m,b as g,L as N,y as n}from"./index-BPh45AcV.js";function S(){const{signUp:p}=j(),[s,x]=a.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[d,f]=a.useState(!1),[l,h]=a.useState(!1),[i,c]=a.useState(!1),[t,u]=a.useState("buyer"),b=v(),r=o=>x({...s,[o.target.name]:o.target.value}),w=async o=>{if(o.preventDefault(),!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(s.password)){n.error("Password must include uppercase, lowercase, number, and special character.");return}if(s.password!==s.confirmPassword){n.error("Passwords do not match");return}c(!0);try{await p({...s,role:t.toUpperCase()}),n.success("Account created successfully! Please log in."),b("/login")}catch(y){n.error(y.response?.data?.message||"Signup failed. Try again later.")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#fff8ec] to-[#ffe3c2]",children:e.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-white/30 shadow-2xl rounded-2xl p-10 w-full max-w-md",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-center text-[#ed7d31] mb-8",children:"Create Your Account"}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"flex bg-white/40 rounded-full shadow-inner overflow-hidden",children:[e.jsx("button",{type:"button",onClick:()=>u("buyer"),className:`px-5 py-2 font-semibold transition-all ${t==="buyer"?"bg-[#ed7d31] text-white":"text-gray-700 hover:text-[#ed7d31]"}`,children:"Buyer"}),e.jsx("button",{type:"button",onClick:()=>u("agent"),className:`px-5 py-2 font-semibold transition-all ${t==="agent"?"bg-[#ed7d31] text-white":"text-gray-700 hover:text-[#ed7d31]"}`,children:"Agent"})]})}),e.jsxs("form",{onSubmit:w,className:"space-y-5",children:[e.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:s.name,onChange:r,className:"w-full border text-gray-700 border-gray-300/60 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-[#ed7d31]",required:!0}),e.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:s.email,onChange:r,className:"w-full border text-gray-700 border-gray-300/60 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-[#ed7d31]",required:!0}),e.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:s.phone,onChange:r,className:"w-full border text-gray-700 border-gray-300/60 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-[#ed7d31]",required:!0}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",name:"password",placeholder:"Password",value:s.password,onChange:r,className:"w-full border text-gray-700 border-gray-300/60 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-[#ed7d31]",required:!0}),e.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-3 text-gray-500 hover:text-[#ed7d31]",children:d?e.jsx(m,{size:20}):e.jsx(g,{size:20})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",name:"confirmPassword",placeholder:"Confirm Password",value:s.confirmPassword,onChange:r,className:"w-full border text-gray-700 border-gray-300/60 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-[#ed7d31]",required:!0}),e.jsx("button",{type:"button",onClick:()=>h(!l),className:"absolute right-3 top-3 text-gray-500 hover:text-[#ed7d31]",children:l?e.jsx(m,{size:20}):e.jsx(g,{size:20})})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-[#ed7d31] text-white font-semibold py-3 rounded-md shadow-lg hover:bg-[#d96b1f] transition-all disabled:opacity-50",children:i?"Signing Up...":`Sign Up as ${t.charAt(0).toUpperCase()+t.slice(1)}`})]}),e.jsxs("p",{className:"text-sm text-gray-700 text-center mt-6",children:["Already have an account? ",e.jsx(N,{to:"/login",className:"text-[#ed7d31] font-semibold hover:underline",children:"Log in"})]})]})})}export{S as default};
